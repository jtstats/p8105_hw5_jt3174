p8105\_hw5\_jt3174
================
Jingyi
11/6/2019

# Problem 1

``` r
iris_with_missing = iris %>% 
  map_df(~replace(.x, sample(1:150, 20), NA)) %>%
  mutate(Species = as.character(Species))
```

``` r
# write a function that fill all missing numeric variables with the mean of non-missing values and all missing categorical variables with virginica

filling = function(column) {
  # make sure the argument is a vector, and if not, stop
  if (!is.vector(column)) {
    stop("Argument should be a vector.")
  }
  # to distinguish numeric variable 
  if (is.numeric(column)) {
    # to make sure we have all orginal data in the output
    column = column %>% 
    # to replace all missing data with the mean of what are not missing in the vector argument
    replace_na(mean(column[!is.na(column)])) 
  }
  # for all other left variables, dintinguish whether this is a categorical variable
  else if (is.character(column)) {
    # make sure we have all original data in the output
    column = column %>% 
    # to replace all missing data with virginica
    replace_na("virginica") 
  }
  
}

# use map to iterate over each variable of the dataframe iris_with_missing with filling function that I just wrote above and return a dataframe called iris_filled
iris_filled = map_df(iris_with_missing, filling)
```
